{"componentChunkName":"component---src-templates-article-js","path":"/articles/installing-postgresql-9-2-debian-ubuntu-using-fabtools/","webpackCompilationHash":"0813f9b8c1605fa5094b","result":{"data":{"markdownRemark":{"html":"<p>Here is a quick recipe to install the latest stable PostgreSQL version on a server using <a href=\"http://fabtools.readthedocs.org/\">fabtools</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">    <span class=\"token keyword\">from</span> fabric<span class=\"token punctuation\">.</span>api <span class=\"token keyword\">import</span> task\n\n    <span class=\"token keyword\">import</span> fabtools\n    <span class=\"token keyword\">from</span> fabtools <span class=\"token keyword\">import</span> require\n\n    @task\n    <span class=\"token keyword\">def</span> <span class=\"token function\">postgresql</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">\"\"\"\n        Install the latest stable PostgreSQL version on Debian/Ubuntu\n        from the PostgreSQL Global Development Group APT repository\n\n        See: https://wiki.postgresql.org/wiki/Apt\n        \"\"\"</span>\n\n        <span class=\"token comment\"># Get the distrib codename</span>\n        <span class=\"token comment\">#</span>\n        <span class=\"token comment\"># Note that with fabtools >= 0.14.0 this will be:</span>\n        <span class=\"token comment\">#</span>\n        <span class=\"token comment\">#   distrib = fabtools.system.distrib_codename()</span>\n        <span class=\"token comment\">#</span>\n        distrib <span class=\"token operator\">=</span> fabtools<span class=\"token punctuation\">.</span>deb<span class=\"token punctuation\">.</span>distrib_codename<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Add the PGDG key</span>\n        require<span class=\"token punctuation\">.</span><span class=\"token builtin\">file</span><span class=\"token punctuation\">(</span>url<span class=\"token operator\">=</span><span class=\"token string\">'http://apt.postgresql.org/pub/repos/apt/ACCC4CF8.asc'</span><span class=\"token punctuation\">)</span>\n        fabtools<span class=\"token punctuation\">.</span>deb<span class=\"token punctuation\">.</span>add_apt_key<span class=\"token punctuation\">(</span><span class=\"token string\">'ACCC4CF8.asc'</span><span class=\"token punctuation\">,</span> update<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Add the PGDG repository</span>\n        require<span class=\"token punctuation\">.</span>deb<span class=\"token punctuation\">.</span>source<span class=\"token punctuation\">(</span>\n            <span class=\"token string\">'PGDG'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'http://apt.postgresql.org/pub/repos/apt/'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'%s-pgdg'</span> <span class=\"token operator\">%</span> distrib<span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'main'</span>\n        <span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Install PostgreSQL</span>\n        require<span class=\"token punctuation\">.</span>postgres<span class=\"token punctuation\">.</span>server<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><em>Recipe tested on Ubuntu 12.04 (precise) and Debian 6.0 (squeeze).</em></p>","frontmatter":{"title":"Installing PostgreSQL 9.2 on a Debian/Ubuntu box using fabtools","date":"2013-04-17","tags":["Python","Fabric","Fabtools","Linux","PostgreSQL"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/articles/installing-postgresql-9-2-debian-ubuntu-using-fabtools/"}}}