{
    "componentChunkName": "component---src-templates-article-js",
    "path": "/articles/deleting-messages-from-the-postfix-queue/",
    "result": {"data":{"markdownRemark":{"html":"<p>Sometimes, you have dozens of messages clogging your Postfix queue, all with the same bogus recipient.</p>\n<p>Here is how to delete them in a go, using the <strong>postsuper</strong> command and some scripting magic (of course, you need to replace <code class=\"language-text\">address@example.com</code> with the desired recipient):</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">mailq <span class=\"token operator\">|</span> <span class=\"token function\">tail</span> -n +2 <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -v <span class=\"token string\">'^ *('</span> <span class=\"token operator\">|</span> <span class=\"token function\">awk</span>  <span class=\"token string\">'BEGIN { RS = \"\" }\n              # $7=sender, $8=recipient1, $9=recipient2\n              { if ($8 == \"address@example.com\" &amp;&amp; $9 == \"\")\n                    print $1 }\n          '</span> <span class=\"token operator\">|</span> <span class=\"token function\">tr</span> -d <span class=\"token string\">'*!'</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> postsuper -d -</code></pre></div>\n<p>(Adapted from the <a href=\"http://www.postfix.org/postsuper.1.html\">postsuper man page</a>.)</p>","frontmatter":{"title":"Deleting messages from the Postfix queue","date":"2011-01-28","tags":["Postfix","Linux","Bash"]}}},"pageContext":{"slug":"/articles/deleting-messages-from-the-postfix-queue/"}},
    "staticQueryHashes": ["396060594"]}